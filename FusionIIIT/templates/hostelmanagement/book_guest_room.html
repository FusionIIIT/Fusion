{% block book_guest_room %} 
<form method="POST" class="ui form" action="{% url 'hostelmanagement:book_guest_room' %}" role="form" enctype="multipart/form-data" id='book_guest_room'>
                <div class="ui active accordion field">
                    <div class="title">
                        <i class="icon dropdown"></i>
                        Book a Guest Room!
                    </div>
                    {{ form.non_field_errors }}
                    <div class="active content">
                        <div class="ui form" style="padding: 8px; padding-left: 24px; padding-right: 24px;">
                          {% csrf_token %}
                                <div class="field">
                                    <label for="{{ form.hall.id_for_label }}">
                                        Hall
                                    </label>
                                    <select class="ui dropdown" name="hall" required>
                                        <option selected disabled value="">Select Hall No</option>
                                        {% for hall in all_hall %}
                                            <option value={{hall.pk}}>{{hall.hall_name}}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="two fields">
                                  <div class="field">
                                      <label>Arrival Date</label>
                                      <input type="date" name="arrival_date" id="arrival_date" min="" required value="">
                                  </div>
                                  <div class="field">
                                      <label>Departure Date</label>
                                      <input type="date" name="departure_date" id="departure_date" min="" required value="">
                                  </div>
                                </div>
                            <div class="two fields">
                              <div class="field">
                                  <label>Arrival Time</label>
                                  <input type="Time" name="arrival_time" >
                              </div>
                              <div class="field">
                                  <label>Departure Time</label>
                                  <input type="Time" name="departure_time" >
                              </div>
                            </div>
                                  {% comment %} <div class="field">
                                      <label>Roll no.</label>
                                      <input value="" class="ui large input" name="roll_no" required onkeypress="return isNumberKey(event)">
                                      <select class="ui search fluid dropdown" name="roll_no" required>
                                          <option value="">Select</option>
                                          {% for i, students in halls_student.items %}
                                               {% for st in students %}
                                               <option value="{{st.id.user.username}}">{{st.id.user.username}}</option>
                                               {% endfor %}
                                          {%endfor%}
                                      </select>
                                  </div> {% endcomment %}
                       
                            <div class="two fields">
                                <div class="field">
                                    {{ form.guests.errors }}
                                    <label  for="{{ form.guests.id_for_label }}">
                                    Number of Guests</label>
                                    <input type='Number' name='total_guest' value={{ form.total_guest }}>
                                </div>
                                <div class="field">
                                    {{ form.nationality.errors }}
                                    <label for="{{ form.nationality.id_for_label }}">Nationality</label>
                                    <input type = "text" name = "nationality" value = {{form.nationality}}>
                                </div>
                            </div>
                            <div class="two fields">
                                    <div class="field">
                                        {{ form.rooms_required.errors }}
                                        <label  for="{{ form.rooms_required.id_for_label }}">
                                        Number of rooms</label>
                                        <input type='Number' name='rooms_required' value={{ form.rooms_required }}>
                                    </div>
                                    <div class="field">
                                      {{ form.guest_name.errors }}
                                      <label  for="{{ form.guest_name.id_for_label }}">
                                      Name of guest</label>
                                      <input type='text' name='guest_name' value={{ form.guest_name }}>
                                  </div>
                            </div>
                            <div class="two fields">
                                <div class="field">
                                    {{ form.guest_email.errors }}
                                    <label  for="{{ form.guest_email.id_for_label }}">
                                    Guest Email</label>
                                    <input type='Email' name='guest_email' value={{ form.guest_email }}>
                                </div>
                                  <div class="field">
                                    {{ form.guest_phone.errors }}
                                    <label  for="{{ form.guest_phone.id_for_label }}">
                                    Guest Phone Number</label>
                                    <input type='text' name='guest_phone' value={{ form.guest_phone }}>
                                </div>
                        </div>
                            <div class="field">
                                {{ form.guest_address.errors }}
                                <label  for="{{ form.guest_address.id_for_label }}">
                                Guest Address</label>
                                <input type='text' name='guest_address' value={{ form.guest_address }}>
                            </div>
                                <div class="field">
                                    {{ form.purpose.errors }}
                                    <label for="{{ form.purpose.id_for_label }}">
                                        Purpose
                                    </label>                                    
                                    <textarea name="purpose">{{ form.purpose }}</textarea>                                     
                                </div>

                            
                            <div class="two fields">
                              <div class="four wide field">
                                  <label><br></label>
                                  <button class="ui fluid large primary button" type="submit" onclick="checkInputs('book_guest_room')">
                                      Submit
                                  </button>
                              </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>

            <script>
                // // Get today's date in YYYY-MM-DD format
                var today = new Date().toISOString().split('T')[0];
                document.getElementById("arrival_date").value = "";
                document.getElementById("departure_date").value = "";
                document.getElementById("arrival_date").min = today;
                document.getElementById("arrival_date").addEventListener("change", function () {
                    document.getElementById("departure_date").min = document.getElementById("arrival_date").value;
                });
            </script>
{% endblock %}