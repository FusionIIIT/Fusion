{% extends 'globals/base.html' %}
{% block body %}
{% block navBar %}
{% include 'dashboard/navbar.html' %}
{% endblock %}
 
    <div class="ui active tab" style="margin: auto; width: 600px;" data-tab="add">
        <div class="ui vertical segment" >
            <form class="ui form" style="padding-left: 24px; padding-right: 24px;" method="POST" enctype="multipart/form-data" 
                  action="">
                {% csrf_token %}
                <div class="ui header">
                    Add To Inventory :
                </div>
                <br>
                <div class="fields">

                    <div class="eight wide field">
                        <label>Currently In <sup><i class="small red asterisk icon"></i></sup></label>
                        <!-- selection drop down list -->
                        <div class="ui selection dropdown">
                            <input name="Department" type="hidden" required="True">
                            <i class="dropdown icon"></i>
                            <div class="default text">Select The Department</div>
                            <div class="menu" >
                                <div class="item" data-value="Administration Block" >
                                    Administration Block
                                </div>

                                <div class="item" data-value="CC" >
                                    CC
                                </div>

                                <div class="item" data-value="CLC">
                                    CLC
                                </div>
                                <div class="item" data-value="LHTC" >
                                    LHTC
                                </div>
                                <div class="item" data-value="SAC" >
                                    SAC
                                </div>
                                <div class="item" data-value="PHC" >
                                    PHC
                                </div>
                                <div class="item" data-value="Central Mess" >
                                    Central Mess
                                </div>
                                <div class="item" data-value="H1" >
                                    H1
                                </div>
                                <div class="item" data-value="H3" >
                                    H3
                                </div>
                                <div class="item" data-value="H4" >
                                    H4
                                </div>

                            </div>

                        </div>
                    </div>

            </div>               
                <div class="field">
                    <label>Name<sup><i class="small red asterisk icon"></i></sup> </label>
                    <div class="ui large input">
                        <input placeholder="Name" name="name" required="True">
                    </div>
                </div>
                <div class="field">
                    <label>Date of adding <sup><i class="small red asterisk icon"></i></sup></label>
                    <input type="date" name="date" PLACEHOLDER="Date" required="True"></input>
                </div>
                <div class="field">
                    <label>Price <sup><i class="small red asterisk icon"></i></sup> </label>
                    <input type="number" name="price" PLACEHOLDER="Price" min="1" required="True"></input>
                </div>
                <div class="field">
                    <label>Quantity <sup><i class="small red asterisk icon"></i></sup> </label>
                    <input type="number" name="quantity" PLACEHOLDER="Quantity" min="1" required="True"></input>
                </div>
                <br>
                <div class="ui buttons right floated">
                  <button class="large ui blue toggle right floated button" style="background-color: rgba(54,47,75,255);" value="save" name="submit" onclick="addtoinv(),disabled=true">Save</button>  
                </div>
                <br>
                <br>
            </form>

            <br>
        </div>
    </div>
    <script>
        
function addtoinv(event) {  
   var department = $('input[name="Department"]');
   var name = $('input[name="name"]').val();
   var date = $('input[name="date"]');
   var price = $('input[name="price"]').val();   
   var quantity = $('input[name="quantity"]').val();

    if (name == "a")
    {
      alert("The Inventory can't be updated successfully");
      setTimeout(function() {
                window.location.replace('http://127.0.0.1:8000/ps2/add/');
            }, 0);
      return;
    }
   else
   {
    alert("The Inventory has been updated successfully");
            setTimeout(function() {
                window.location.replace('http://127.0.0.1:8000/ps2/');
            }, 0);
    /*
    event.preventDefault();
    $.ajax({
        type: 'POST',
        url: '.',
        data: {
            'department' : department,
            'name' : name,
            'date' : date,
            'price' : price,
            'quantity' : quantity,            
        },
        success: function(data) {
            alert("The Inventory has been updated successfully");
            setTimeout(function() {
                window.location.replace('http://127.0.0.1:8000/ps2/');
            }, 0);
        },
    });
    */
  }
};
        </script>
{% endblock %}
