{% load static %}
{% block feedback %}

    {% comment %}The tab menu starts here!{% endcomment %}
    

    <div class="ui pointing secondary menu ">
        <a class="active item" data-tab="feedback">
            Feedback for Complaints
        </a>
        

    </div>

    <div class="ui active tab " data-tab="feedback">
        <div class="ui vertical segment" style="overflow-y: auto";>

            <table class="ui very basic collapsing celled sortable table" id="feedback_user"
                   style="padding-left: 0.5%;
                                                          padding-right: 0.5%;
                                                          padding-top: 1%;
                                                          padding-bottom: 1.5%;
                                                          margin: auto;">
                <thead>
                <tr>
                   
                    <th class="three wide column">
                        Date &ensp;&ensp;&ensp;&ensp;&ensp;

                    </th>

                    <th>
                        Type
                    </th>

                    <th>
                        Location
                    </th>
<!-- 
                    <th>
                        Specific <br> Location
                        
                    </th> -->

                    <th class="one wide column">
                        Details
                    </th>

                    <th class="one wide column">
                        Status
                    </th>
                    <!-- <th class="one wide column">
                        Worker<br>
                        Name
                    </th> -->
                    <th class="three wide column">
                        Feedback
                    </th>
                </tr>
                </thead>

                {% for a in outbox %}
                    {% if a.status == 2 %}

                <tbody>
                <tr>
            
                    <td>
                        {{ a.complaint_date }}
                    </td>

                    <td>
                        {{ a.complaint_type }}
                    </td>

                    <td>
                        {{ a.location }} -<br>
                    
                        {{ a.specific_location }}
                    </td>

                    <td>
                        <a href="./detail/{{ a.id }}/"> <button class="ui inverted basic button" data-tooltip="Click here to view details" ><i class="large green info icon"></i></button></a>
                    </td>

                    <td>
                        <i class="large green checkmark icon"></i>
                    </td>
                    <!-- <td>
                        {{ a.worker_id }}
                    </td> -->
                    <td>
                        {% if a.feedback == '' %}
                            <div class="field">
                                <center>
                                    <a href="./{{ a.id }}">
                                    <button class="ui green icon button" data-tooltip="Give FeedBack" >
                                       <i class="large comments icon"></i>
                                    </button>
                                    </a>
                                  
                                </center>

                            </div>
                        {% else %}
                            <div class="field">
                                {{ a.feedback }}
                            </div>
                        {% endif %}
                    </td>
                </tr>


                </tbody>
                    {% endif %}
                {% endfor %}
            </table>
            <div id="paginationfeedback_user" class="pagination" style="text-align: center; margin-top: 10px;"></div>
            <br>
            <div class="ui divider"></div>
            <div class="extra content">
                <div class="" style="text-align: center;">
                    <i class="large green checkmark icon"></i> : Completed &ensp;&ensp;&ensp;&ensp;&ensp;
                </div>
            </div>
    </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            paginate('feedback_user', 10, 'paginationfeedback_user'); // Call the pagination function with table ID and rows per page
        });
    </script>
{% endblock %}