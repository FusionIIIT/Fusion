{% load humanize %}

<div class="ui modal details subwork_{{ subWork.id }}">
    <div class="header">
        {{ subWork.name }}
    </div>
    <div class="scrolling content">
        <div class="description">
            <h4 class="ui horizontal divider header">
                <i class="bar chart icon"></i>
                Specifications

            </h4>
            <div class="ui two column centered grid">
                <div class="ten wide column">
                    <table class="ui definition table">
                        <tbody>
                            <tr>
                                <td class="six wide column">Name of Sub-Work</td>
                                <td class="name">{% if subWork.name %} {{ subWork.name }} {% endif %}</td>
                            </tr>

                            <tr>
                                <td>Part of Work</td>
                                <td class="work">
                                    {% if subWork.work %}
                                    {{ subWork.work }}
                                    &nbsp;
                                    <button
                                        class="ui secondary button details {{ subWork.work.get_workType_display|slugify }}_{{ subWork.work.id }}">Details</button>
                                    {% endif %}
                                </td>
                            </tr>

                            <tr>
                                <td>Date Issued</td>
                                <td class="dateIssued">{% if subWork.dateIssued %} {{ subWork.dateIssued }} {% endif %}
                                </td>
                            </tr>

                            <tr>
                                <td>Date Started</td>
                                <td class="dateStarted">{% if subWork.dateStarted %} {{ subWork.dateStarted }}
                                    {% endif %}
                                </td>
                            </tr>

                            <tr>
                                <td>Date Completed</td>
                                <td class="dateCompleted">{% if subWork.dateCompleted %} {{ subWork.dateCompleted }}
                                    {% endif %}</td>
                            </tr>

                            <tr>
                                <td>Estimated cost</td>
                                <td class="costEstimated">
                                    {% if subWork.costEstimated %}₹&nbsp;{{ subWork.costEstimated|intcomma }}
                                    {% endif %}
                                </td>
                            </tr>

                            <tr>
                                <td>Actual cost</td>
                                <td class="costActual">
                                    {% if subWork.costActual %}₹&nbsp;{{ subWork.costActual|intcomma }}
                                    {% endif %}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                {% comment %} <div class="row">
                    {% if subWork.verified is True %}
                    <div class="ui icon success compact message">
                        <i class="check icon"></i>
                        <div class="content">
                            <div class="header">
                                This information has been verified
                            </div>
                        </div>
                    </div>
                    {% else %}
                    <div class="ui icon warning compact message">
                        <i class="exclamation triangle icon"></i>
                        <div class="content">
                            <div class="header">
                                This information has not been verified
                            </div>
                        </div>
                    </div>
                    {% endif %}
                </div> {% endcomment %}
            </div>

            {% if subWork.remarks %}
            <h4 class="ui horizontal divider header">
                <i class="sticky note icon"></i>
                Remarks
            </h4>
            <div class="ui two column centered grid">
                <div class="ten wide column">
                    <p>{{ subWork.remarks }}</p>
                </div>
            </div>
            {% endif %}

        </div>
    </div>
    <div class="actions">
        <div class="ui black deny large button">
            Close
        </div>
    </div>
</div>
<script type='module'>
    $('.subwork_{{ subWork.id }}.details.modal')
        .modal({
            centered: false
        })
        .modal('setting', 'closable', false)
        .modal('attach events', '.subwork_{{ subWork.id }}.details.button',
            'show');
</script>